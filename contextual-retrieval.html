<!DOCTYPE html>
<html lang="zh-CN">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ä¸Šä¸‹æ–‡æ£€ç´¢å¢å¼ºç”ŸæˆæŒ‡å— | æŠ€æœ¯åšå®¢</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.8;color:#333;background:#f8f9fa}
.container{max-width:900px;margin:0 auto;padding:20px}
header{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:60px 20px;text-align:center}
header h1{font-size:2.5em;margin-bottom:10px}
header p{opacity:0.9}
nav{background:white;padding:15px 20px;box-shadow:0 2px 10px rgba(0,0,0,0.1);position:sticky;top:0;z-index:100}
nav a{margin-right:25px;text-decoration:none;color:#667eea;font-weight:600}
nav a:hover{color:#764ba2}

/* ä¸‹æ‹‰å¯¼èˆªæ ·å¼ */
.nav-wrapper{display:flex;align-items:center;justify-content:center}
.nav-dropdown{position:relative;display:inline-block}
.nav-dropbtn{background:none;border:none;color:#667eea;font-size:15px;font-weight:600;padding:8px 16px;cursor:pointer;border-radius:6px;transition:background 0.3s}
.nav-dropbtn:hover{background:#f0f0f0}
.nav-dropdown-content{display:none;position:absolute;background:white;min-width:280px;box-shadow:0 8px 30px rgba(0,0,0,0.15);border-radius:10px;z-index:1000;padding:15px;left:50%;transform:translateX(-50%);top:100%;margin-top:5px}
.nav-dropdown:hover .nav-dropdown-content{display:block}
.dropdown-section{border-bottom:1px solid #eee;padding-bottom:10px;margin-bottom:10px}
.dropdown-section:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}
.dropdown-section h4{color:#667eea;font-size:13px;margin:0 0 8px 0;padding-left:5px}
.dropdown-section a{display:block;color:#333;font-size:14px;padding:6px 12px;border-radius:5px;text-decoration:none;margin:2px 0;transition:all 0.2s}
.dropdown-section a:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:white}
.nav-home{color:#667eea;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:6px;transition:background 0.3s}
.nav-home:hover{background:#f0f0f0}
article{background:white;margin:30px 0;padding:40px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.08)}
article h1{color:#667eea;margin-bottom:25px;padding-bottom:15px;border-bottom:3px solid #667eea}
article h2{color:#764ba2;margin:35px 0 15px}
article h3{color:#444;margin:25px 0 10px}
article p{margin:15px 0}
article a{color:#667eea;text-decoration:none}
article a:hover{text-decoration:underline}
article code{background:#f4f4f4;padding:3px 8px;border-radius:4px;font-family:monospace}
article pre{background:#2d3748;color:#f8f8f2;padding:20px;border-radius:8px;overflow-x:auto;margin:20px 0}
article pre code{background:none;color:inherit;padding:0}
article ul,article ol{margin:15px 0 15px 30px}
article li{margin:8px 0}
article blockquote{border-left:4px solid #667eea;padding:15px 20px;margin:20px 0;background:#f7f7fa;border-radius:0 8px 8px 0}
article table{width:100%;border-collapse:collapse;margin:20px 0}
article th,article td{border:1px solid #e2e8f0;padding:12px;text-align:left}
article th{background:linear-gradient(135deg,#667eea,#764ba2);color:white}
article tr:nth-child(even){background:#f7f7fa}
article tr:hover{background:#edf2f7}

/* çº¯HTMLå›¾è¡¨æ ·å¼ */
.chart{background:#f8f9fa;padding:30px;margin:20px 0;border-radius:12px;text-align:center}
.chart-row{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0;flex-wrap:wrap}
.chart-node{padding:15px 25px;border-radius:8px;font-weight:500;min-width:120px}
.chart-arrow{font-size:24px;color:#667eea}
.chart-subtitle{font-size:14px;color:#666;margin:10px 0;font-weight:bold}

/* èŠ‚ç‚¹é¢œè‰²å˜ä½“ */
.node-green{background:#28a745;color:white;border:2px solid #28a745}
.node-blue{background:#007bff;color:white;border:2px solid #007bff}
.node-purple{background:#6f42c1;color:white;border:2px solid #6f42c1}
.node-yellow{background:#ffc107;color:#333;border:2px solid #ffc107}
.node-red{background:#dc3545;color:white;border:2px solid #dc3545}
.node-teal{background:#667eea;color:white;border:2px solid #667eea}
.node-lightgreen{background:#764ba2;color:#333;border:2px solid #764ba2}
.node-gray{background:#6c757d;color:white;border:2px solid #6c757d}
.node-white{background:white;color:#333;border:2px solid #ddd}

/* æµç¨‹å›¾æ ·å¼ */
.flowchart{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}
.flow-row{display:flex;align-items:center;gap:15px;flex-wrap:wrap;justify-content:center}
.flow-node{padding:12px 20px;border-radius:6px;font-size:14px}
.flow-arrow{font-size:20px;color:#667eea}

/* å‚ç›´æµç¨‹ */
.flow-vertical{display:flex;flex-direction:column;align-items:center;gap:10px}
.flow-vertical .flow-arrow{transform:rotate(90deg)}

/* å¡ç‰‡å¸ƒå±€ */
.card-container{display:flex;gap:20px;justify-content:center;flex-wrap:wrap;margin:20px 0}
.card{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1);min-width:150px}
.card-title{font-weight:bold;margin-bottom:10px;color:#667eea}
.card-content{font-size:14px;color:#666}

/* åˆ—è¡¨æ ·å¼ */
.step-list{list-style:none;padding:0;margin:20px 0}
.step-list li{display:flex;align-items:center;gap:15px;padding:10px 0;border-bottom:1px solid #eee}
.step-number{width:30px;height:30px;background:#667eea;color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold}

/* å¯¹æ¯”æ¡† */
.comparison-box{display:flex;gap:20px;margin:20px 0}
.comparison-item{flex:1;padding:20px;border-radius:10px}
.comparison-item.good{background:#d4edda;border:2px solid #28a745}
.comparison-item.bad{background:#f8d7da;border:2px solid #dc3545}

footer{text-align:center;padding:40px;color:#718096;border-top:1px solid #e2e8f0;margin-top:40px}
@media(max-width:768px){.container{padding:10px}article{padding:20px}header{padding:40px 20px}nav a{display:block;margin:10px 0}}
</style>
</head>
<body>
<header><h1>ğŸš€ ä¸ªäººæŠ€æœ¯åšå®¢</h1><p>AI Agents å®è·µä¸æ¢ç´¢</p></header>
<nav class="container">
  <div class="nav-wrapper">
    <a href="index.html" class="nav-home">ğŸ  é¦–é¡µ</a>
    <div class="nav-dropdown">
      <button class="nav-dropbtn">ğŸ“š æ–‡ç« åˆ†ç±» â–¾</button>
      <div class="nav-dropdown-content">
        <div class="dropdown-section">
          <h4>ğŸ—ï¸ åŸºç¡€æ¶æ„</h4>
          <a href="building-effective-agents.html">æ„å»ºæœ‰æ•ˆçš„ AI Agents</a>
          <a href="building-agents-with-claude-agent-sdk.html">ä½¿ç”¨ Claude Agent SDK</a>
        </div>
        <div class="dropdown-section">
          <h4>ğŸ› ï¸ å·¥å…·èƒ½åŠ›</h4>
          <a href="advanced-tool-use.html">é«˜çº§å·¥å…·ä½¿ç”¨</a>
          <a href="agent-skills.html">Agent Skills</a>
          <a href="claude-think-tool.html">Claude Think Tool</a>
          <a href="writing-effective-tools-for-agents.html">ä¸º Agents ç¼–å†™å·¥å…·</a>
        </div>
        <div class="dropdown-section">
          <h4>ğŸ“¦ ä¸Šä¸‹æ–‡å·¥ç¨‹</h4>
          <a href="effective-context-engineering.html">æœ‰æ•ˆä¸Šä¸‹æ–‡å·¥ç¨‹</a>
          <a href="contextual-retrieval.html">ä¸Šä¸‹æ–‡æ£€ç´¢å¢å¼ºç”Ÿæˆ</a>
          <a href="code-execution-with-mcp.html">MCP ä»£ç æ‰§è¡Œ</a>
        </div>
        <div class="dropdown-section">
          <h4>ğŸ¤ é•¿ä»»åŠ¡ä¸åä½œ</h4>
          <a href="effective-harnesses-long-running-agents.html">é•¿æœŸè¿è¡Œ Agents</a>
          <a href="multi-agent-research-system.html">å¤šä»£ç†ç ”ç©¶ç³»ç»Ÿ</a>
        </div>
      </div>
    </div>
  </div>
</nav>
<main class="container"><article><h1>ä¸Šä¸‹æ–‡æ£€ç´¢å¢å¼ºç”ŸæˆæŒ‡å—</h1>

<blockquote>ä½œè€…ï¼šAnthropic Applied AI Team (Daniel Ford, Orowa Sikder, Gautam Mittal, Kenneth Lien)</blockquote>
<blockquote>é˜…è¯»æ—¶é—´ï¼š2026-02-07</blockquote>
<blockquote>ç¿»è¯‘ï¼šHinnBot</blockquote>

<hr/>

<h2>ä¸€ã€å¼•è¨€ï¼šä¼ ç»Ÿ RAG çš„ç—›ç‚¹</h2>

<p>è¦è®© AI æ¨¡å‹åœ¨ç‰¹å®šåœºæ™¯ä¸‹å‘æŒ¥ä½œç”¨ï¼Œé€šå¸¸éœ€è¦è®©å®ƒè®¿é—®èƒŒæ™¯çŸ¥è¯†ã€‚æ¯”å¦‚ï¼š</p>

<ul>
<li>å®¢æœèŠå¤©æœºå™¨äººéœ€è¦äº†è§£å…·ä½“ä¸šåŠ¡çŸ¥è¯†</li>
<li>æ³•å¾‹åˆ†ææœºå™¨äººéœ€è¦äº†è§£å¤§é‡å†å²æ¡ˆä¾‹</li>
</ul>

<p>å¼€å‘è€…é€šå¸¸ä½¿ç”¨ <strong>RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</strong> æ¥å¢å¼º AI æ¨¡å‹çš„çŸ¥è¯†ã€‚RAG çš„å·¥ä½œåŸç†æ˜¯ï¼šä»çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å°†å…¶é™„åŠ åˆ°ç”¨æˆ·æç¤ºä¸­ï¼Œä»è€Œæ˜¾è‘—æå‡æ¨¡å‹çš„å›ç­”è´¨é‡ã€‚</p>

<p><strong>ä½†æ˜¯ï¼Œä¼ ç»Ÿ RAG æœ‰ä¸€ä¸ªè‡´å‘½é—®é¢˜ï¼š</strong> åœ¨ç¼–ç ä¿¡æ¯æ—¶ä¼šä¸¢å¤±ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´ç³»ç»Ÿæ— æ³•ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢åˆ°ç›¸å…³ä¿¡æ¯ã€‚</p>

<div class="chart">
    <div class="chart-subtitle">ä¼ ç»Ÿ RAG çš„é—®é¢˜</div>
    <div class="chart-row">
        <div class="chart-node node-blue">ç”¨æˆ·æŸ¥è¯¢</div>
        <span class="chart-arrow">â†’ æ£€ç´¢ â†’</span>
        <div class="chart-node node-white">å‘é‡æ•°æ®åº“</div>
        <span class="chart-arrow">â†’ å¯èƒ½å¤±è´¥ âŒ</span>
        <div class="chart-node node-red">ä¸¢å¤±ä¸Šä¸‹æ–‡ æ£€ç´¢å¤±è´¥</div>
    </div>
    <div style="margin-top:20px;border-top:1px dashed #ccc;padding-top:15px;">
        <div class="chart-subtitle">ç¤ºä¾‹</div>
        <div class="chart-row">
            <div class="chart-node node-gray">æŸ¥è¯¢ï¼šACME Corp Q2 2023 è¥æ”¶å¢é•¿ï¼Ÿ</div>
        </div>
        <div class="chart-row" style="margin-top:10px;">
            <span class="chart-arrow">â†’ æ£€ç´¢åˆ°ï¼š</span>
            <div class="chart-node node-yellow">å…¬å¸è¥æ”¶å¢é•¿3</div>
        </div>
        <div class="chart-row" style="margin-top:10px;">
            <span class="chart-arrow">â†’ ç¼ºå°‘ä¸Šä¸‹æ–‡ âŒ</span>
            <div class="chart-node node-red">ä¸çŸ¥é“æ˜¯å“ªå®¶å…¬å¸ å“ªä¸ªæ—¶é—´æ®µ</div>
        </div>
    </div>
</div>

<hr/>

<h2>äºŒã€Contextual Retrieval ç®€ä»‹</h2>

<p><strong>Contextual Retrieval</strong>ï¼ˆä¸Šä¸‹æ–‡æ£€ç´¢ï¼‰é€šè¿‡ä¸¤ä¸ªå­æŠ€æœ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>

<ul>
<li><strong>Contextual Embeddings</strong>ï¼ˆä¸Šä¸‹æ–‡åµŒå…¥ï¼‰</li>
<li><strong>Contextual BM25</strong>ï¼ˆä¸Šä¸‹æ–‡ BM25ï¼‰</li>
</ul>

<h3>æ€§èƒ½æå‡</h3>

<table>
<tr><th>æ–¹æ¡ˆ</th><th>æ£€ç´¢å¤±è´¥ç‡</th><th>æ”¹è¿›</th></tr>
<tr><td>ä¼ ç»Ÿ RAG</td><td>5.7%</td><td>åŸºå‡†</td></tr>
<tr><td>+ Contextual Embeddings</td><td>3.7%</td><td>âœ… å‡å°‘ 35%</td></tr>
<tr><td>+ Contextual BM25</td><td>2.9%</td><td>âœ… å‡å°‘ 49%</td></tr>
<tr><td>+ é‡æ’åºï¼ˆRerankingï¼‰</td><td>1.9%</td><td>âœ… å‡å°‘ 67%</td></tr>
</table>

<div class="chart">
    <div class="chart-subtitle">æ€§èƒ½å¯¹æ¯”</div>
    <div class="flowchart">
        <div class="flow-row">
            <div class="flow-node node-red">ä¼ ç»Ÿ RAG 5.7% å¤±è´¥ç‡</div>
            <span class="flow-arrow">+ Contextual Embeddings</span>
            <div class="flow-node node-yellow">3.7% å‡å°‘ 35%</div>
        </div>
        <div class="flow-row">
            <span class="flow-arrow">â†“</span>
        </div>
        <div class="flow-row">
            <span class="flow-arrow">+ Contextual BM25</span>
            <div class="flow-node node-green">2.9% å‡å°‘ 49%</div>
        </div>
        <div class="flow-row">
            <span class="flow-arrow">â†“</span>
        </div>
        <div class="flow-row">
            <span class="flow-arrow">+ Reranking</span>
            <div class="flow-node node-teal">1.9% å‡å°‘ 67%</div>
        </div>
    </div>
</div>

<blockquote>
ğŸ’¡ <strong>æ ¸å¿ƒæ´å¯Ÿ</strong>ï¼šä»…ä»…ä¸ºæ¯ä¸ªæ–‡æœ¬å—æ·»åŠ è§£é‡Šæ€§ä¸Šä¸‹æ–‡ï¼Œå°±èƒ½æ˜¾è‘—æå‡æ£€ç´¢å‡†ç¡®æ€§ï¼
</blockquote>

<hr/>

<h2>ä¸‰ã€ä¼ ç»Ÿ RAG çš„å›°å¢ƒ</h2>

<h3>åˆ†å—æ—¶çš„ä¸Šä¸‹æ–‡ä¸¢å¤±</h3>

<p>åœ¨ä¼ ç»Ÿ RAG ä¸­ï¼Œæ–‡æ¡£é€šå¸¸è¢«æ‹†åˆ†æˆè¾ƒå°çš„æ–‡æœ¬å—ä»¥æé«˜æ£€ç´¢æ•ˆç‡ã€‚è™½ç„¶è¿™ç§æ–¹æ³•åœ¨å¾ˆå¤šåœºæ™¯ä¸‹æœ‰æ•ˆï¼Œä½†å½“å•ä¸ªå—ç¼ºä¹è¶³å¤Ÿä¸Šä¸‹æ–‡æ—¶ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚</p>

<div class="chart">
    <div class="chart-subtitle">ä¼ ç»Ÿåˆ†å—é—®é¢˜</div>
    <div class="flowchart">
        <div class="flow-row">
            <div class="flow-node node-teal">åŸå§‹æ–‡æ¡£ SECæ–‡ä»¶</div>
            <span class="flow-arrow">â†’ æ‹†åˆ†</span>
            <div class="flow-node node-red">ç¬¬1å— å…¬å¸è¥æ”¶å¢é•¿3</div>
        </div>
        <div class="flow-row" style="margin-top:10px;">
            <div class="flow-node node-teal">åŸå§‹æ–‡æ¡£</div>
            <span class="flow-arrow">â†’ æ‹†åˆ†</span>
            <div class="flow-node node-red">ç¬¬2å— å­£åº¦æ•°æ®...</div>
        </div>
        <div class="flow-row" style="margin-top:15px;">
            <span class="flow-arrow">âŒ é—®é¢˜ï¼š</span>
            <div class="flow-node node-red">ä¸çŸ¥é“å“ªä¸ªå…¬å¸</div>
            <div class="flow-node node-red">ä¸çŸ¥é“å“ªä¸ªå­£åº¦</div>
            <div class="flow-node node-red">ç¼ºå°‘å…³é”®èƒŒæ™¯</div>
        </div>
    </div>
</div>

<p><strong>ç¤ºä¾‹åœºæ™¯</strong>ï¼š</p>
<p>å‡è®¾çŸ¥è¯†åº“ä¸­åŒ…å«è´¢åŠ¡ä¿¡æ¯ï¼ˆSEC æ–‡ä»¶ï¼‰ï¼Œç”¨æˆ·é—®ï¼š"ACME Corp åœ¨ 2023 å¹´ Q2 çš„è¥æ”¶å¢é•¿æ˜¯å¤šå°‘ï¼Ÿ"</p>

<p>æ£€ç´¢åˆ°çš„å—å¯èƒ½æ˜¯ï¼š"å…¬å¸è¥æ”¶æ¯”ä¸Šä¸€å­£åº¦å¢é•¿ 3%"</p>

<p><strong>é—®é¢˜</strong>ï¼šè¿™ä¸ªå—æ²¡æœ‰è¯´æ˜æ˜¯å“ªå®¶å…¬å¸ï¼Œä¹Ÿæ²¡æœ‰è¯´æ˜æ˜¯å“ªä¸ªå­£åº¦ï¼Œå¯¼è‡´æ— æ³•æä¾›å‡†ç¡®çš„ç­”æ¡ˆã€‚</p>

<hr/>

<h2>å››ã€Contextual Retrieval çš„è§£å†³æ–¹æ¡ˆ</h2>

<h3>æ ¸å¿ƒæ€æƒ³</h3>

<p>Contextual Retrieval é€šè¿‡åœ¨åµŒå…¥ï¼ˆ"Contextual Embeddings"ï¼‰å’Œåˆ›å»º BM25 ç´¢å¼•ï¼ˆ"Contextual BM25"ï¼‰<strong>ä¹‹å‰</strong>ï¼Œä¸ºæ¯ä¸ªå—æ·»åŠ ç‰¹å®šçš„è§£é‡Šæ€§ä¸Šä¸‹æ–‡æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>

<div class="chart">
    <div class="chart-subtitle">Contextual Retrieval æµç¨‹</div>
    <div class="flowchart">
        <div class="flow-row">
            <div class="flow-node node-teal">åŸå§‹æ–‡æ¡£</div>
            <span class="flow-arrow">â†’ åˆ†å—</span>
            <div class="flow-node node-blue">å¤šä¸ªæ–‡æœ¬å—</div>
        </div>
        <div class="flow-row" style="margin-top:10px;">
            <span class="flow-arrow">+ Claudeç”Ÿæˆä¸Šä¸‹æ–‡</span>
            <div class="flow-node node-green">å¸¦ä¸Šä¸‹æ–‡çš„å—</div>
        </div>
        <div class="flow-row" style="margin-top:10px;">
            <span class="flow-arrow">â†’ åŒé‡ç´¢å¼•ï¼š</span>
            <div class="flow-node node-purple">ä¸Šä¸‹æ–‡åµŒå…¥</div>
            <span class="flow-arrow">+</span>
            <div class="flow-node node-purple">ä¸Šä¸‹æ–‡BM25ç´¢å¼•</div>
        </div>
        <div class="flow-row" style="margin-top:15px;">
            <div class="flow-node node-blue">ç”¨æˆ·æŸ¥è¯¢</div>
            <span class="flow-arrow">â†’ å¹¶è¡Œæ£€ç´¢</span>
            <div class="flow-node node-green">Top-K ç›¸å…³å—</div>
        </div>
    </div>
</div>

<h3>åˆ†å—è½¬æ¢ç¤ºä¾‹</h3>

<p><strong>åŸå§‹å—</strong>ï¼š</p>
<pre><code>"The company's revenue grew by 3% over the previous quarter."</code></pre>

<p><strong>æ·»åŠ ä¸Šä¸‹æ–‡å</strong>ï¼š</p>
<pre><code>"This chunk is from an SEC filing on ACME corp's performance in Q2 2023; 
the previous quarter's revenue was $314 million. The company's revenue grew 
by 3% over the previous quarter."</code></pre>

<p><strong>å·®å¼‚</strong>ï¼š</p>
<ul>
<li>âœ… æ˜ç¡®äº†å…¬å¸åç§°ï¼ˆACME Corpï¼‰</li>
<li>âœ… æ˜ç¡®äº†æ—¶é—´æ®µï¼ˆQ2 2023ï¼‰</li>
<li>âœ… æ·»åŠ äº†å…³é”®æ•°æ®ï¼ˆ$314 millionï¼‰</li>
</ul>

<hr/>

<h2>äº”ã€å®ç°æ–¹æ³•</h2>

<h3>ä½¿ç”¨ Claude ç”Ÿæˆä¸Šä¸‹æ–‡</h3>

<p>æ‰‹åŠ¨æ ‡æ³¨æ•°åƒç”šè‡³æ•°ç™¾ä¸‡ä¸ªå—æ˜¯ä¸ç°å®çš„ã€‚å€ŸåŠ© Claudeï¼Œæˆ‘ä»¬å¯ä»¥è‡ªåŠ¨ç”Ÿæˆç®€æ´çš„ã€å—ç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚</p>

<p><strong>ä¸Šä¸‹æ–‡ç”Ÿæˆæç¤ºè¯</strong>ï¼š</p>

<pre><code class="language-text">&lt;document&gt;
{{WHOLE_DOCUMENT}}
&lt;/document&gt;

Here is the chunk we want to situate within the whole document:
&lt;chunk&gt;
{{CHUNK_CONTENT}}
&lt;/chunk&gt;

Please give a short succinct context to situate this chunk within the overall 
document for the purposes of improving search retrieval of the chunk. Answer 
only with the succinct context and nothing else.</code></pre>

<p><strong>ç”Ÿæˆç»“æœ</strong>ï¼šé€šå¸¸ 50-100 tokensï¼Œæ·»åŠ åˆ°æ¯ä¸ªå—çš„å¼€å¤´ã€‚</p>

<h3>é¢„å¤„ç†çš„å®Œæ•´æµç¨‹</h3>

<div class="chart">
    <div class="chart-subtitle">é¢„å¤„ç†æµç¨‹</div>
    <div class="flow-vertical">
        <div class="flow-row">
            <div class="flow-node node-blue">1. æ–‡æ¡£åˆ†å— çº¦800 tokens/å—</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-teal">2. ç”Ÿæˆä¸Šä¸‹æ–‡ Claude 3 Haiku</div>
        </div>
        <div class="flow-vertical" style="margin:10px 0;">
            <span class="flow-arrow">â†“</span>
        </div>
        <div class="flow-row">
            <div class="flow-node node-green">3. æ·»åŠ ä¸Šä¸‹æ–‡å‰ç¼€ 50-100 tokens</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-purple">4. åˆ›å»ºåŒé‡ç´¢å¼• Embeddings + BM25</div>
        </div>
        <div class="flow-vertical" style="margin:10px 0;">
            <span class="flow-arrow">â†“</span>
        </div>
        <div class="flow-row">
            <div class="flow-node node-lightgreen" style="font-size:18px;">âœ… å‡†å¤‡å°±ç»ª</div>
        </div>
        <div style="margin-top:15px;padding:10px;background:#e9ecef;border-radius:8px;font-size:13px;color:#666;">
            æˆæœ¬ä¼°ç®—ï¼š800 tokens/å—ï¼Œ8k tokens/æ–‡æ¡£ï¼Œ100 tokensä¸Šä¸‹æ–‡ â†’ æ¯ç™¾ä¸‡æ–‡æ¡£ tokens: $1.02
        </div>
    </div>
</div>

<blockquote>
ğŸ’¡ <strong>æˆæœ¬ä¼˜åŠ¿</strong>ï¼šå€ŸåŠ© Prompt Cachingï¼Œç”Ÿæˆä¸Šä¸‹æ–‡å—çš„æˆæœ¬ä»…ä¸º $1.02/ç™¾ä¸‡æ–‡æ¡£ tokensï¼Œæ¯”æƒ³è±¡ä¸­ä¾¿å®œå¾—å¤šï¼
</blockquote>

<hr/>

<h2>å…­ã€ç»“åˆé‡æ’åºè¿›ä¸€æ­¥ä¼˜åŒ–</h2>

<h3>ä»€ä¹ˆæ˜¯é‡æ’åºï¼Ÿ</h3>

<p>åœ¨ä¼ ç»Ÿ RAG ä¸­ï¼ŒAI ç³»ç»Ÿä¼šæœç´¢çŸ¥è¯†åº“ä»¥æ‰¾åˆ°å¯èƒ½ç›¸å…³çš„ä¿¡æ¯å—ã€‚å¯¹äºå¤§å‹çŸ¥è¯†åº“ï¼Œåˆå§‹æ£€ç´¢å¯èƒ½è¿”å›æ•°ç™¾ä¸ªç›¸å…³æ€§å„å¼‚çš„å—ã€‚</p>

<p><strong>é‡æ’åºï¼ˆRerankingï¼‰</strong> æ˜¯ä¸€ç§è¿‡æ»¤æŠ€æœ¯ï¼Œç¡®ä¿åªæœ‰æœ€ç›¸å…³çš„å—ä¼ é€’ç»™æ¨¡å‹ã€‚</p>

<div class="chart">
    <div class="chart-subtitle">é‡æ’åºæµç¨‹</div>
    <div class="flowchart">
        <div class="flow-row">
            <div class="flow-node node-blue">ç”¨æˆ·æŸ¥è¯¢</div>
            <span class="flow-arrow">â†’ åˆæ­¥æ£€ç´¢</span>
            <div class="flow-node node-yellow">150 ä¸ªå€™é€‰å—</div>
        </div>
        <div class="flow-row" style="margin-top:10px;">
            <span class="flow-arrow">â†’ å‘é€åˆ° reranker</span>
            <div class="flow-node node-purple" style="border-style:dashed;">é‡æ’åºæ¨¡å‹ Cohere/Voyage</div>
        </div>
        <div class="flow-row" style="margin-top:10px;">
            <span class="flow-arrow">â†’ ç›¸å…³æ€§è¯„åˆ†</span>
            <div class="flow-node node-green">Top-20 ç²¾é€‰å—</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-blue">ç”Ÿæˆå›ç­”</div>
        </div>
        <div style="margin-top:15px;border-top:1px dashed #ccc;padding-top:15px;">
            <div class="flow-row">
                <div class="flow-node node-red">é‡æ’åºå‰ï¼š5.7 å¤±è´¥ç‡</div>
                <span class="flow-arrow">â†’ 67% æ”¹è¿›</span>
                <div class="flow-node node-green">é‡æ’åºåï¼š1.9% å¤±è´¥ç‡</div>
            </div>
        </div>
    </div>
</div>

<h3>æ€§èƒ½å åŠ æ•ˆæœ</h3>

<table>
<tr><th>é…ç½®</th><th>å¤±è´¥ç‡</th><th>ç›¸å¯¹æ”¹è¿›</th></tr>
<tr><td>åŸºç¡€ Embeddings</td><td>5.7%</td><td>â€”</td></tr>
<tr><td>+ Contextual Retrieval</td><td>2.9%</td><td>+49%</td></tr>
<tr><td>+ Reranking</td><td>1.9%</td><td>+67%</td></tr>
</table>

<blockquote>
ğŸ¯ <strong>æœ€ä½³å®è·µ</strong>ï¼šContextual Embeddings + Contextual BM25 + Reranking = æœ€é«˜æ£€ç´¢å‡†ç¡®æ€§
</blockquote>

<hr/>

<h2>ä¸ƒã€å®æˆ˜å»ºè®®</h2>

<h3>1. Chunk è¾¹ç•Œé€‰æ‹©</h3>

<p>è€ƒè™‘å¦‚ä½•å°†æ–‡æ¡£æ‹†åˆ†æˆå—ã€‚å—å¤§å°ã€å—è¾¹ç•Œå’Œå—é‡å éƒ½ä¼šå½±å“æ£€ç´¢æ€§èƒ½ã€‚</p>

<div class="chart">
    <div class="chart-subtitle">Chunk ç­–ç•¥</div>
    <div class="flowchart">
        <div class="flow-row">
            <div class="flow-node node-red">âŒ å—å¤ªå° ä¸¢å¤±ä¸Šä¸‹æ–‡</div>
            <div class="flow-node node-green">âœ… é€‚ä¸­ çº¦800 tokens</div>
            <div class="flow-node node-red">âŒ å—å¤ªå¤§ æ£€ç´¢ç²¾åº¦ä¸‹é™</div>
        </div>
        <div style="margin-top:15px;">
            <div class="flow-node node-yellow">æ¨èï¼šé€‚ä¸­å¤§å° + é‡å  10-20%</div>
        </div>
    </div>
</div>

<h3>2. Embedding æ¨¡å‹é€‰æ‹©</h3>

<table>
<tr><th>æ¨¡å‹</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr>
<tr><td>Gemini Text 004</td><td>â­â­â­â­â­</td><td>æœ€ä½³è¡¨ç°</td></tr>
<tr><td>Voyage</td><td>â­â­â­â­â­</td><td>éå¸¸æœ‰æ•ˆ</td></tr>
<tr><td>å…¶ä»–æ¨¡å‹</td><td>â­â­â­</td><td>ä¹Ÿæœ‰æå‡</td></tr>
</table>

<blockquote>
ğŸ’¡ <strong>å‘ç°</strong>ï¼šContextual Retrieval åœ¨æ‰€æœ‰æµ‹è¯•çš„åµŒå…¥æ¨¡å‹ä¸Šéƒ½æœ‰æå‡ï¼Œä½† Gemini å’Œ Voyage å—ç›Šæœ€å¤§ã€‚
</blockquote>

<h3>3. è‡ªå®šä¹‰ä¸Šä¸‹æ–‡æç¤ºè¯</h3>

<p>è™½ç„¶é€šç”¨æç¤ºè¯æ•ˆæœä¸é”™ï¼Œä½†å¯¹äºç‰¹å®šé¢†åŸŸï¼Œä½¿ç”¨å®šåˆ¶æç¤ºè¯å¯èƒ½æ•ˆæœæ›´å¥½ï¼š</p>

<ul>
<li>åŒ…å«ä»…åœ¨å…¶ä»–æ–‡æ¡£ä¸­å®šä¹‰çš„ä¸“ä¸šæœ¯è¯­è¯æ±‡è¡¨</li>
<li>é’ˆå¯¹ç‰¹å®šè¡Œä¸šçš„èƒŒæ™¯ä¿¡æ¯</li>
<li>é¢†åŸŸç‰¹å®šçš„æ£€ç´¢çº¿ç´¢</li>
</ul>

<h3>4. Chunk æ•°é‡é€‰æ‹©</h3>

<table>
<tr><th>Top-K æ•°é‡</th><th>æ•ˆæœ</th><th>å»ºè®®</th></tr>
<tr><td>5</td><td>å¯èƒ½é—æ¼</td><td>âŒ ä¸æ¨è</td></tr>
<tr><td>10</td><td>ä¸€èˆ¬</td><td>âš ï¸ è§†æƒ…å†µ</td></tr>
<tr><td>20</td><td>æœ€ä½³</td><td>âœ… æ¨è</td></tr>
</table>

<blockquote>
ğŸ’¡ <strong>æç¤º</strong>ï¼šä¼ é€’æ›´å¤šå—ä¼šå¢åŠ åŒ…å«ç›¸å…³ä¿¡æ¯çš„æœºä¼šï¼Œä½†ä¿¡æ¯è¿‡å¤šä¼šè®©æ¨¡å‹åˆ†å¿ƒï¼Œéœ€è¦æƒè¡¡ã€‚
</blockquote>

<h3>5. å§‹ç»ˆè¿è¡Œè¯„ä¼°</h3>

<p>å“åº”ç”Ÿæˆæ—¶ï¼Œå¯ä»¥å°†ä¸Šä¸‹æ–‡åŒ–çš„å—ä¼ é€’ç»™æ¨¡å‹ï¼Œå¹¶åŒºåˆ†å“ªäº›æ˜¯ä¸Šä¸‹æ–‡ã€å“ªäº›æ˜¯åŸå§‹å—å†…å®¹ã€‚</p>

<hr/>

<h2>å…«ã€ä¸ä¸Šä¸‹æ–‡å·¥ç¨‹çš„å…³ç³»</h2>

<p>Contextual Retrieval æ˜¯ <strong>ä¸Šä¸‹æ–‡å·¥ç¨‹</strong>ï¼ˆè§ <a href="effective-context-engineering.html">ä¸Šä¸‹æ–‡å·¥ç¨‹æŒ‡å—</a>ï¼‰çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>

<div class="chart">
    <div class="chart-subtitle">ä¸Šä¸‹æ–‡å·¥ç¨‹ä½“ç³»</div>
    <div class="card-container">
        <div class="card" style="background:linear-gradient(135deg,#6f42c1,#8e44ad);color:white;flex:2;">
            <div style="font-size:24px;margin-bottom:10px;">ğŸ“¦</div>
            <div class="card-title" style="color:white;">ä¸Šä¸‹æ–‡å·¥ç¨‹</div>
            <div style="font-size:12px;">åŒ…å«æ‰€æœ‰ç»„æˆéƒ¨åˆ†</div>
        </div>
        <div class="card">
            <div style="font-size:20px;margin-bottom:5px;">ğŸ”</div>
            <div class="card-title">Contextual Retrieval</div>
            <div style="font-size:11px;">æ£€ç´¢å±‚é¢</div>
        </div>
        <div class="card">
            <div style="font-size:20px;margin-bottom:5px;">ğŸ”§</div>
            <div class="card-title">å·¥å…·è®¾è®¡</div>
        </div>
        <div class="card">
            <div style="font-size:20px;margin-bottom:5px;">ğŸ“</div>
            <div class="card-title">å‹ç¼©ç­–ç•¥</div>
        </div>
        <div class="card">
            <div style="font-size:20px;margin-bottom:5px;">ğŸ“’</div>
            <div class="card-title">ç¬”è®°ç³»ç»Ÿ</div>
        </div>
        <div class="card">
            <div style="font-size:20px;margin-bottom:5px;">ğŸ¤–</div>
            <div class="card-title">å­æ™ºèƒ½ä½“</div>
        </div>
    </div>
</div>

<h3>æ ¸å¿ƒåŸåˆ™ä¸€è‡´æ€§</h3>

<ul>
<li><strong>æœ€å°é«˜ä¿¡å· token é›†</strong>ï¼šContextual Retrieval é€šè¿‡æ·»åŠ ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæé«˜æ¯ä¸ªæ£€ç´¢å—çš„ä¿¡æ¯å¯†åº¦</li>
<li><strong>é¿å…ä¸Šä¸‹æ–‡è…çƒ‚</strong>ï¼šç²¾ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯æ¯”å¤§é‡æ¨¡ç³Šä¿¡æ¯æ›´æœ‰æ•ˆ</li>
<li><strong>åˆ†å±‚ä¿¡æ¯æ¶æ„</strong>ï¼šä¸Šä¸‹æ–‡ä¿¡æ¯ â†’ æ ¸å¿ƒå†…å®¹ â†’ è¾…åŠ©ä¿¡æ¯</li>
</ul>

<hr/>

<h2>ä¹ã€æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”</h2>

<h3>å…¶ä»–å°è¯•è¿‡çš„æ–¹æ³•ï¼ˆæ•ˆæœä¸ä½³ï¼‰</h3>

<table>
<tr><th>æ–¹æ³•</th><th>æ•ˆæœ</th><th>ç»“è®º</th></tr>
<tr><td>é€šç”¨æ–‡æ¡£æ‘˜è¦</td><td>âŒ æå‡æœ‰é™</td><td>ä¸å¤Ÿå…·ä½“</td></tr>
<tr><td>å‡è®¾æ–‡æ¡£åµŒå…¥ï¼ˆHyDEï¼‰</td><td>âš ï¸ æ•ˆæœä¸€èˆ¬</td><td>ä¸å¦‚çœŸå®ä¸Šä¸‹æ–‡</td></tr>
<tr><td>åŸºäºæ‘˜è¦çš„ç´¢å¼•</td><td>âŒ æ€§èƒ½è¾ƒä½</td><td>ä¸¢å¤±ç»†èŠ‚</td></tr>
<tr><td><strong>Contextual Retrieval</strong></td><td>âœ… <strong>æœ€ä½³</strong></td><td>æ˜¾è‘—æå‡</td></tr>
</table>

<blockquote>
ğŸ’¡ <strong>ç»“è®º</strong>ï¼šä¸ºæ¯ä¸ªå—æ·»åŠ çœŸå®çš„è§£é‡Šæ€§ä¸Šä¸‹æ–‡ï¼Œæ¯”å‡è®¾æˆ–æ‘˜è¦æ–¹æ³•æ›´æœ‰æ•ˆã€‚
</blockquote>

<hr/>

<h2>åã€æ€»ç»“</h2>

<h3>å…³é”®å‘ç°</h3>

<div class="chart">
    <div class="chart-subtitle">æœ€ä½³å®è·µç»„åˆ</div>
    <div class="card-container">
        <div class="card" style="background:#667eea;color:white;border:none;flex:1.5;">
            <div style="font-size:24px;">ğŸ†</div>
            <div class="card-title" style="color:white;font-size:16px;">æœ€ä¼˜é…ç½®</div>
        </div>
        <div class="card">
            <div class="card-title">Voyage/Gemini åµŒå…¥</div>
        </div>
        <div class="card">
            <div class="card-title">Contextual BM25</div>
        </div>
        <div class="card">
            <div class="card-title">ä¸Šä¸‹æ–‡åµŒå…¥</div>
        </div>
        <div class="card">
            <div class="card-title">é‡æ’åº</div>
        </div>
        <div class="card">
            <div class="card-title">Top-20 æ£€ç´¢</div>
        </div>
    </div>
    <div style="margin-top:15px;">
        <div class="flow-node node-lightgreen" style="font-size:16px;">âœ… 67% æ£€ç´¢å¤±è´¥ç‡é™ä½</div>
    </div>
</div>

<h3>å®è·µå»ºè®®</h3>

<ol>
<li><strong>ä»ç®€å•å¼€å§‹</strong>ï¼šå¦‚æœçŸ¥è¯†åº“å°äº 200,000 tokensï¼Œç›´æ¥æŠŠæ•´ä¸ªçŸ¥è¯†åº“æ”¾è¿› prompt</li>
<li><strong>ä½¿ç”¨ Prompt Caching</strong>ï¼šå€ŸåŠ© Claude çš„ prompt cachingï¼Œå¤§å¹…é™ä½ Contextual Retrieval çš„æˆæœ¬</li>
<li><strong>ç»„åˆä½¿ç”¨</strong>ï¼šContextual Embeddings + Contextual BM25 + Reranking = æœ€ä½³æ•ˆæœ</li>
<li><strong>æŒç»­è¯„ä¼°</strong>ï¼šæ ¹æ®å®é™…æ•ˆæœè°ƒæ•´ chunk å¤§å°ã€top-k æ•°é‡ç­‰å‚æ•°</li>
</ol>

<h3>ç›¸å…³èµ„æº</h3>

<ul>
<li><a href="https://platform.claude.com/cookbook/capabilities-contextual-embeddings-guide" target="_blank">Anthropic Contextual Embeddings Cookbook</a></li>
<li><a href="https://platform.claude.com/cookbook/misc-prompt-caching" target="_blank">Prompt Caching Cookbook</a></li>
<li><a href="https://cohere.com/rerank" target="_blank">Cohere Reranker</a></li>
<li><a href="https://docs.voyageai.com/docs/reranker" target="_blank">Voyage Reranker</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/embeddings" target="_blank">Gemini Embeddings</a></li>
<li><a href="https://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents" target="_blank">ä¸Šä¸‹æ–‡å·¥ç¨‹æŒ‡å—</a></li>
</ul>

<hr/>

<p><em>æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š2026-02-07</em></p>
<p><em>åŸæ–‡é“¾æ¥ï¼šhttps://www.anthropic.com/engineering/contextual-retrieval</em></p>
</article></main>
<footer><p>ğŸ“… æœ€åæ›´æ–°: 2026-02-07</p><p>Built with â¤ï¸</p></footer>
</body>
</html>
