<!DOCTYPE html>
<html lang="zh-CN">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ä¸Šä¸‹æ–‡å·¥ç¨‹æŒ‡å— | æŠ€æœ¯åšå®¢</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.8;color:#333;background:#f8f9fa}
.container{max-width:900px;margin:0 auto;padding:20px}
header{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:60px 20px;text-align:center}
header h1{font-size:2.5em;margin-bottom:10px}
header p{opacity:0.9}
nav{background:white;padding:15px 20px;box-shadow:0 2px 10px rgba(0,0,0,0.1);position:sticky;top:0;z-index:100}
nav a{margin-right:25px;text-decoration:none;color:#667eea;font-weight:600}
nav a:hover{color:#764ba2}
article{background:white;margin:30px 0;padding:40px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.08)}
article h1{color:#667eea;margin-bottom:25px;padding-bottom:15px;border-bottom:3px solid #667eea}
article h2{color:#764ba2;margin:35px 0 15px}
article h3{color:#444;margin:25px 0 10px}
article p{margin:15px 0}
article a{color:#667eea;text-decoration:none}
article a:hover{text-decoration:underline}
article code{background:#f4f4f4;padding:3px 8px;border-radius:4px;font-family:monospace}
article pre{background:#2d3748;color:#f8f8f2;padding:20px;border-radius:8px;overflow-x:auto;margin:20px 0}
article pre code{background:none;color:inherit;padding:0}
article ul,article ol{margin:15px 0 15px 30px}
article li{margin:8px 0}
article blockquote{border-left:4px solid #667eea;padding:15px 20px;margin:20px 0;background:#f7f7fa;border-radius:0 8px 8px 0}
article table{width:100%;border-collapse:collapse;margin:20px 0}
article th,article td{border:1px solid #e2e8f0;padding:12px;text-align:left}
article th{background:linear-gradient(135deg,#667eea,#764ba2);color:white}
article tr:nth-child(even){background:#f7f7fa}
article tr:hover{background:#edf2f7}
article .mermaid{background:white;padding:20px;margin:20px 0;text-align:center}
footer{text-align:center;padding:40px;color:#718096;border-top:1px solid #e2e8f0;margin-top:40px}
@media(max-width:768px){.container{padding:10px}article{padding:20px}header{padding:40px 20px}nav a{display:block;margin:10px 0}}
/* ä¸‹æ‹‰å¯¼èˆªæ ·å¼ */
.nav-wrapper{display:flex;align-items:center;justify-content:center}
.nav-dropdown{position:relative;display:inline-block}
.nav-dropbtn{background:none;border:none;color:#667eea;font-size:15px;font-weight:600;padding:8px 16px;cursor:pointer;border-radius:6px;transition:background 0.3s}
.nav-dropbtn:hover{background:#f0f0f0}
.nav-dropdown-content{display:none;position:absolute;background:white;min-width:280px;box-shadow:0 8px 30px rgba(0,0,0,0.15);border-radius:10px;z-index:1000;padding:15px;left:50%;transform:translateX(-50%);top:100%;margin-top:5px}
.nav-dropdown:hover .nav-dropdown-content{display:block}
.dropdown-section{border-bottom:1px solid #eee;padding-bottom:10px;margin-bottom:10px}
.dropdown-section:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}
.dropdown-section h4{color:#667eea;font-size:13px;margin:0 0 8px 0;padding-left:5px}
.dropdown-section a{display:block;color:#333;font-size:14px;padding:6px 12px;border-radius:5px;text-decoration:none;margin:2px 0;transition:all 0.2s}
.dropdown-section a:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:white}
.nav-home{color:#667eea;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:6px;transition:background 0.3s}
.nav-home:hover{background:#f0f0f0}
</style>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true,theme:'default'});</script>
</head>
<body>
<header><h1>ğŸš€ ä¸ªäººæŠ€æœ¯åšå®¢</h1><p>AI Agents å®è·µä¸æ¢ç´¢</p></header>
<nav class="container">
  <div class="nav-wrapper">
    <a href="index.html" class="nav-home">ğŸ  é¦–é¡µ</a>
    <div class="nav-dropdown">
      <button class="nav-dropbtn">ğŸ“š æ–‡ç« åˆ†ç±» â–¾</button>
      <div class="nav-dropdown-content">
        <div class="dropdown-section">
          <h4>ğŸ—ï¸ åŸºç¡€æ¶æ„</h4>
          <a href="building-effective-agents.html">æ„å»ºæœ‰æ•ˆçš„ AI Agents</a>
          <a href="building-agents-with-claude-agent-sdk.html">ä½¿ç”¨ Claude Agent SDK</a>
        </div>
        <div class="dropdown-section">
          <h4>ğŸ› ï¸ å·¥å…·èƒ½åŠ›</h4>
          <a href="advanced-tool-use.html">é«˜çº§å·¥å…·ä½¿ç”¨</a>
          <a href="claude-think-tool.html">Claude Think Tool</a>
          <a href="writing-effective-tools-for-agents.html">ä¸º Agents ç¼–å†™å·¥å…·</a>
        </div>
        <div class="dropdown-section">
          <h4>ğŸ“¦ ä¸Šä¸‹æ–‡å·¥ç¨‹</h4>
          <a href="effective-context-engineering.html">æœ‰æ•ˆä¸Šä¸‹æ–‡å·¥ç¨‹</a>
          <a href="contextual-retrieval.html">ä¸Šä¸‹æ–‡æ£€ç´¢å¢å¼ºç”Ÿæˆ</a>
        </div>
        <div class="dropdown-section">
          <h4>ğŸ¤ é•¿ä»»åŠ¡ä¸åä½œ</h4>
          <a href="effective-harnesses-long-running-agents.html">é•¿æœŸè¿è¡Œ Agents</a>
          <a href="multi-agent-research-system.html">å¤šä»£ç†ç ”ç©¶ç³»ç»Ÿ</a>
        </div>
      </div>
    </div>
  </div>
</nav>
<main class="container"><article><h1>AI Agents ä¸Šä¸‹æ–‡å·¥ç¨‹æŒ‡å—</h1>

<blockquote>ä½œè€…ï¼šAnthropic Applied AI Team (Prithvi Rajasekaran, Ethan Dixon, Carly Ryan, Jeremy Hadfield)</blockquote>
<blockquote>é˜…è¯»æ—¶é—´ï¼š2026-02-07</blockquote>

<hr/>

<h2>ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä»æç¤ºå·¥ç¨‹åˆ°ä¸Šä¸‹æ–‡å·¥ç¨‹</h2>

<h3>ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Ÿ</h3>

<p><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹</strong>æ˜¯æç¤ºå·¥ç¨‹çš„è‡ªç„¶æ¼”è¿›ï¼š</p>

<div class="mermaid">
graph TD
    subgraph "æ¼”è¿›å†ç¨‹"
        Era1[æ—©æœŸ<br/>å•æ¬¡æç¤º] --> Era2[ä¸­æœŸ<br/>å¤æ‚æç¤ºå·¥ç¨‹] --> Era3[ç°åœ¨<br/>ä¸Šä¸‹æ–‡å·¥ç¨‹]
    end
    
    subgraph "å…³æ³¨ç‚¹è½¬å˜"
        P1["ğŸ¯ æ‰¾å¯¹è¯å’ŒçŸ­è¯­<br/>Prompt Engineering"] --> P2["ğŸ“¦ é…ç½®ä¸Šä¸‹æ–‡<br/>Context Engineering"]
    end
    
    Era3 --> P2
    
    style Era1 fill:#6c757d,stroke:#333,stroke-width:1px,color:#fff
    style Era2 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style Era3 fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style P1 fill:#ffc107,stroke:#333,stroke-width:1px,color:#333
    style P2 fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<table>
<tr><th>ç»´åº¦</th><th>æç¤ºå·¥ç¨‹</th><th>ä¸Šä¸‹æ–‡å·¥ç¨‹</th></tr>
<tr><td>**æ ¸å¿ƒé—®é¢˜**</td><td>å¦‚ä½•å†™å‡ºæœ‰æ•ˆçš„æç¤ºè¯ï¼Ÿ</td><td>å¦‚ä½•é…ç½®æœ€ä¼˜çš„ä¸Šä¸‹æ–‡ï¼Ÿ</td></tr>
<tr><td>**å…³æ³¨ç‚¹**</td><td>ç¦»æ•£ä»»åŠ¡ï¼ˆå•æ¬¡å†™ä½œï¼‰</td><td>å¾ªç¯è¿­ä»£ï¼ˆå…¨ç”Ÿå‘½å‘¨æœŸï¼‰</td></tr>
<tr><td>**èŒƒå›´**</td><td>ç³»ç»Ÿæç¤ºè¯</td><td>ç³»ç»Ÿæç¤ºã€å·¥å…·ã€æ¶ˆæ¯å†å²ã€å¤–éƒ¨æ•°æ®ç­‰</td></tr>
<tr><td>**å·¥ä½œæ–¹å¼**</td><td>ä¸€æ¬¡æ€§ç¼–å†™</td><td>æŒç»­è¿­ä»£ curation</td></tr>
</table>

<p><strong>å®šä¹‰</strong>ï¼š</p>
<blockquote>ä¸Šä¸‹æ–‡å·¥ç¨‹æ˜¯æŒ‡åœ¨ LLM æ¨ç†è¿‡ç¨‹ä¸­ï¼Œå¯¹åŒ…å«çš„ tokensï¼ˆä¿¡æ¯ï¼‰è¿›è¡Œç­–ç•¥æ€§ç®¡ç†å’Œä¼˜åŒ–çš„ç§‘å­¦å’Œè‰ºæœ¯ã€‚</blockquote>

<hr/>

<h2>äºŒã€ä¸ºä»€ä¹ˆä¸Šä¸‹æ–‡å·¥ç¨‹è‡³å…³é‡è¦ï¼Ÿ</h2>

<h3>æ ¸å¿ƒæŒ‘æˆ˜ï¼šæ³¨æ„åŠ›é¢„ç®—æ˜¯æœ‰é™çš„</h3>

<p>LLM å’Œäººç±»ä¸€æ ·ï¼Œåœ¨ä¿¡æ¯é‡è¾¾åˆ°ä¸€å®šç¨‹åº¦åä¼š<strong>å¤±å»ç„¦ç‚¹æˆ–æ„Ÿåˆ°å›°æƒ‘</strong>ã€‚</p>

<h3>ä¸Šä¸‹æ–‡è…çƒ‚ï¼ˆContext Rotï¼‰é—®é¢˜</h3>

<div class="mermaid">
graph LR
    subgraph "ä¸Šä¸‹æ–‡é•¿åº¦ä¸æ€§èƒ½"
        Length1[çŸ­ä¸Šä¸‹æ–‡] -->|"å¢åŠ "| Length2[ä¸­ç­‰ä¸Šä¸‹æ–‡]
        Length2 -->|"å¢åŠ "| Length3[é•¿ä¸Šä¸‹æ–‡]
        Length3 -->|"å¢åŠ "| Length4[è¶…é•¿ä¸Šä¸‹æ–‡]
    end
    
    subgraph "æ³¨æ„åŠ›å˜åŒ–"
        Attn1[âœ… å¼ºèšç„¦] --> Attn2[âœ… è‰¯å¥½èšç„¦]
        Attn2 --> Attn3[âš ï¸ åˆ†æ•£]
        Attn3 --> Attn4[âŒ ä¿¡æ¯æ£€ç´¢å›°éš¾]
    end
    
    Length4 -.-> Attn4
    
    style Length1 fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style Length4 fill:#dc3545,stroke:#333,stroke-width:2px,color:#fff
    style Attn1 fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style Attn4 fill:#dc3545,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼š</p>
<ul>
<li>éšç€ä¸Šä¸‹æ–‡ token æ•°é‡å¢åŠ ï¼Œæ¨¡å‹å‡†ç¡®å›å¿†ä¿¡æ¯çš„èƒ½åŠ›<strong>ä¸‹é™</strong></li>
<li>ä¸Šä¸‹æ–‡å¿…é¡»è¢«è§†ä¸º<strong>æœ‰é™èµ„æº</strong>ï¼Œè¾¹é™…æ•ˆç›Šé€’å‡</li>
<li>LLM æœ‰"æ³¨æ„åŠ›é¢„ç®—"ï¼Œæ¯å¼•å…¥ä¸€ä¸ªæ–° token éƒ½ä¼šæ¶ˆè€—éƒ¨åˆ†é¢„ç®—</li>

</ul>
<h3>åº•å±‚åŸå› ï¼šTransformer æ¶æ„é™åˆ¶</h3>

<div class="mermaid">
graph TD
    subgraph "Transformeræ³¨æ„åŠ›æœºåˆ¶"
        A[Token A] --> B((å…³æ³¨))
        C[Token C] --> B
        D[Token D] --> B
        B --> All[æ‰€æœ‰Tokenç›¸äº’å…³æ³¨]
    end
    
    subgraph "è®¡ç®—å¤æ‚åº¦"
        N[Tokenæ•°é‡]
        Complexity["O(nÂ²) é…å¯¹å…³ç³»"]
        N --> Complexity
    end
    
    subgraph "æ€§èƒ½å½±å“"
        Complexity -->|"æ‹‰ä¼¸"| Degrade[æ³¨æ„åŠ›åˆ†æ•£]
        Longer[æ›´é•¿åºåˆ—] --> Degrade
    end
    
    style B fill:#6f42c1,stroke:#333,stroke-width:3px,color:#fff
    style Complexity fill:#dc3545,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>ç»“è®º</strong>ï¼šä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ ¸å¿ƒåŸåˆ™æ˜¯â€”â€”æ‰¾åˆ°<strong>æœ€å°çš„é«˜ä¿¡å· token é›†</strong>ï¼Œæœ€å¤§åŒ–æœŸæœ›ç»“æœçš„æ¦‚ç‡ã€‚</p>

<hr/>

<h2>ä¸‰ã€æœ‰æ•ˆä¸Šä¸‹æ–‡çš„æ„æˆè¦ç´ </h2>

<h3>ç³»ç»Ÿæç¤ºè¯è®¾è®¡</h3>

<p><strong>é»„é‡‘åŒºé—´</strong>ï¼šå¤ªç®€å•å’Œå¤ªå¤æ‚éƒ½ä¼šå¤±è´¥</p>

<div class="mermaid">
graph TD
    subgraph "å¤±è´¥æ¨¡å¼"
        Bad1["âŒ è¿‡åº¦ç¡¬ç¼–ç <br/>å¤æ‚çš„ if-else é€»è¾‘"] 
        Bad2["âŒ è¿‡äºç¬¼ç»Ÿ<br/>å‡è®¾å…±äº«ä¸Šä¸‹æ–‡"]
    end
    
    subgraph "é»„é‡‘åŒºé—´ âœ…"
        Good["ğŸ¯ å¹³è¡¡ç‚¹<br/>- å…·ä½“åˆ°è¶³ä»¥å¼•å¯¼è¡Œä¸º<br/>- çµæ´»åˆ°æä¾›å¼ºå¯å‘å¼"]
    end
    
    Bad1 -.->|å¤ªå¤æ‚| Good
    Bad2 -.->|å¤ªç®€å•| Good
    
    style Bad1 fill:#dc3545,stroke:#333,stroke-width:1px,color:#fff
    style Bad2 fill:#dc3545,stroke:#333,stroke-width:1px,color:#fff
    style Good fill:#28a745,stroke:#333,stroke-width:3px,color:#fff
</div>

<p><strong>æ¨èç»“æ„</strong>ï¼š</p>

<pre><code class="language-text">
## æç¤ºè¯ç»“æ„
â”œâ”€â”€ <background_information>
â”œâ”€â”€ <instructions>
â”œâ”€â”€ ## Tool guidance
â””â”€â”€ ## Output description
</code></pre>

<h3>å·¥å…·è®¾è®¡åŸåˆ™</h3>

<div class="mermaid">
graph TD
    subgraph "å·¥å…·è®¾è®¡æ ¸å¿ƒåŸåˆ™"
        T1[è‡ªåŒ…å« Self-contained]
        T2[å¥å£® Robust]
        T3[æ¸…æ™° Clear]
        T4[Token é«˜æ•ˆ]
        T5[æœ€å°é‡å ]
    end
    
    T1 -->|"è¿½æ±‚"| GoodTools[âœ… ä¼˜ç§€å·¥å…·é›†]
    T2 --> GoodTools
    T3 --> GoodTools
    T4 --> GoodTools
    T5 --> GoodTools
    
    style GoodTools fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>å¸¸è§å¤±è´¥æ¨¡å¼</strong>ï¼š</p>
<blockquote>ğŸ”´ å·¥å…·é›†è¿‡äºè‡ƒè‚¿ï¼ŒåŠŸèƒ½è¦†ç›–è¿‡å¤šï¼Œæˆ–å¯¼è‡´æ¨¡ç³Šçš„å†³ç­–ç‚¹</blockquote>

<p><strong>åŸåˆ™</strong>ï¼šå¦‚æœäººç±»å·¥ç¨‹å¸ˆæ— æ³•æ˜ç¡®åˆ¤æ–­æŸä¸ªæƒ…å¢ƒè¯¥ç”¨å“ªä¸ªå·¥å…·ï¼ŒAI æ™ºèƒ½ä½“ä¹Ÿä¸å¯èƒ½åšå¾—æ›´å¥½ã€‚</p>

<h3>å°‘æ ·æœ¬ç¤ºä¾‹ï¼ˆFew-shot Promptingï¼‰</h3>

<p><strong>æ ¸å¿ƒå»ºè®®</strong>ï¼š</p>
<ul>
<li>æä¾›å¤šæ ·åŒ–çš„<strong>å…¸å‹ç¤ºä¾‹</strong>ï¼Œè€Œéå †ç Œè¾¹ç¼˜æƒ…å†µ</li>
<li>å¯¹äº LLM æ¥è¯´ï¼Œç¤ºä¾‹æ˜¯"ä¸€å­—åƒé‡‘"çš„å›¾ç‰‡</li>

</ul>
<div class="mermaid">
graph TD
    subgraph "ä¸æ¨è âŒ"
        Bad["å¡æ»¡è¾¹ç¼˜æƒ…å†µåˆ—è¡¨<br/>è¯•å›¾è¯´æ˜æ¯ä¸€ä¸ªè§„åˆ™"]
    end
    
    subgraph "æ¨è âœ…"
        Good["ç²¾é€‰å¤šæ ·åŒ–ç¤ºä¾‹<br/>æœ‰æ•ˆå±•ç¤ºæœŸæœ›è¡Œä¸º"]
    end
    
    Bad -.->|"æ”¹è¿›"| Good
    
    style Bad fill:#dc3545,stroke:#333,stroke-width:1px,color:#fff
    style Good fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>æœ€ä½³å®è·µ</strong>ï¼šä»æœ€å°æç¤ºå¼€å§‹ï¼Œç”¨æœ€ä½³æ¨¡å‹æµ‹è¯•ï¼Œç„¶åæ ¹æ®å¤±è´¥æ¨¡å¼æ·»åŠ æŒ‡ä»¤å’Œç¤ºä¾‹ã€‚</p>

<hr/>

<h2>å››ã€ä¸Šä¸‹æ–‡æ£€ç´¢ä¸æ™ºèƒ½ä½“æœç´¢</h2>

<h3>èŒƒå¼è½¬å˜</h3>

<div class="mermaid">
graph TD
    subgraph "ä¼ ç»Ÿæ–¹å¼"
        Trad[é¢„æ¨ç†æ£€ç´¢<br/>Embedding-based] -->|é¢„å…ˆå¤„ç†æ‰€æœ‰æ•°æ®| Trad2[ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ä¸Šä¸‹æ–‡]
    end
    
    subgraph "ç°ä»£æ–¹å¼"
        JIT["Just-in-Time å®æ—¶æ£€ç´¢"] -->|è½»é‡çº§æ ‡è¯†ç¬¦| JIT2[è¿è¡Œæ—¶åŠ¨æ€åŠ è½½]
    end
    
    Trad2 -->|"é—®é¢˜"| Problem1[ä¸Šä¸‹æ–‡è†¨èƒ€]
    JIT2 -->|"ä¼˜åŠ¿"| Adv1[æŒ‰éœ€åŠ è½½]
    JIT2 -->|"ä¼˜åŠ¿"| Adv2[èŠ‚çœ token]
    
    style Trad fill:#6c757d,stroke:#333,stroke-width:1px,color:#fff
    style JIT fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>Just-in-Time ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>ç»´æŠ¤è½»é‡çº§æ ‡è¯†ç¬¦ï¼ˆæ–‡ä»¶è·¯å¾„ã€å­˜å‚¨æŸ¥è¯¢ã€ç½‘é¡µé“¾æ¥ç­‰ï¼‰</li>
<li>ä½¿ç”¨å·¥å…·åœ¨è¿è¡Œæ—¶<strong>åŠ¨æ€åŠ è½½</strong>æ•°æ®</li>
<li>ä¸ä¸€æ¬¡æ€§å°†æ‰€æœ‰æ•°æ®å¯¹è±¡åŠ è½½åˆ°ä¸Šä¸‹æ–‡</li>

</ul>
<h3>Claude Code ç¤ºä¾‹</h3>

<div class="mermaid">
graph TD
    subgraph "Claude Code æ··åˆç­–ç•¥"
        Preload[é¢„åŠ è½½] --> CLAUDE[CLAUDE.md]
        Runtime[å®æ—¶æ£€ç´¢] --> Glob[glob]
        Runtime --> Grep[grep]
        Runtime --> HeadTail[head/tail]
    end
    
    CLAUDE -->|"æä¾›"| Context[ä¸Šä¸‹æ–‡]
    Glob -->|"æŒ‰éœ€æŸ¥æ‰¾"| Files[ç›¸å…³æ–‡ä»¶]
    Grep -->|"æœç´¢"| Content[æ–‡ä»¶å†…å®¹]
    HeadTail -->|"åˆ†æ"| Data[å¤§æ•°æ®é›†]
    
    Context -->|"ç»„åˆ"| Analysis[æ•°æ®åˆ†æ]
    Files -->|"åŠ è½½åˆ°"| Analysis
    Content -->|"ç”¨äº"| Analysis
    Data -->|"æ— éœ€å®Œæ•´åŠ è½½"| Analysis
    
    style Preload fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style Runtime fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>ä¼˜åŠ¿</strong>ï¼šå†™å…¥ç›®æ ‡æŸ¥è¯¢ â†’ å­˜å‚¨ç»“æœ â†’ ä½¿ç”¨ Bash å‘½ä»¤åˆ†æå¤§é‡æ•°æ®ï¼Œæ— éœ€å°†å®Œæ•´æ•°æ®å¯¹è±¡åŠ è½½åˆ°ä¸Šä¸‹æ–‡ã€‚</p>

<h3>å…ƒæ•°æ®çš„ä»·å€¼</h3>

<div class="mermaid">
graph TD
    subgraph "å…ƒæ•°æ®ä¿¡å·"
        M1["ğŸ“ æ–‡ä»¶å¤¹å±‚çº§ç»“æ„<br/>tests/ vs src/core_logic/"]
        M2["ğŸ“ å‘½åçº¦å®š<br/>æš—ç¤ºæ–‡ä»¶ç”¨é€”"]
        M3["â° æ—¶é—´æˆ³<br/>è¡¨ç¤ºç›¸å…³æ€§"]
    end
    
    M1 -->|"æš—ç¤º"| Meaning1[æµ‹è¯•å·¥å…· vs æ ¸å¿ƒé€»è¾‘]
    M2 -->|"å¸®åŠ©"| Understand[ç†è§£ä¿¡æ¯ç”¨é€”]
    M3 -->|"æŒ‡ç¤º"| Relevance[åˆ¤æ–­ç›¸å…³æ€§]
    
    style M1 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style M2 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style M3 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
</div>

<h3>æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰</h3>

<div class="mermaid">
graph TD
    subgraph "æ™ºèƒ½ä½“æ¢ç´¢è¿‡ç¨‹"
        Start[å¼€å§‹æ¢ç´¢] --> Layer1[ç¬¬1å±‚ï¼šæ–‡ä»¶å¤§å°<br/>æš—ç¤ºå¤æ‚åº¦]
        Layer1 --> Layer2[ç¬¬2å±‚ï¼šå‘½åçº¦å®š<br/>æš—ç¤ºç”¨é€”]
        Layer2 --> Layer3[ç¬¬3å±‚ï¼šæ—¶é—´æˆ³<br/>ä»£ç†ç›¸å…³æ€§]
        Layer3 --> Layer4[ç¬¬4å±‚ï¼šå†…å®¹æ£€æŸ¥<br/>è¯¦ç»†ä¿¡æ¯]
    end
    
    subgraph "è®¤çŸ¥ç±»æ¯”"
        Human[äººç±»è®¤çŸ¥] -->|"ç±»ä¼¼"| Memory[å·¥ä½œè®°å¿†æœ‰é™]
        Human -->|"ä½¿ç”¨"| Notes[ç¬”è®°ç­–ç•¥]
    end
    
    style Start fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style Layer4 fill:#6f42c1,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>æƒè¡¡</strong>ï¼šè¿è¡Œæ—¶æ¢ç´¢æ¯”é¢„æ£€ç´¢æ…¢ï¼Œéœ€è¦å‘¨åˆ°çš„å·¥ç¨‹è®¾è®¡æ¥ç¡®ä¿æ™ºèƒ½ä½“æœ‰æ­£ç¡®çš„å·¥å…·å’Œå¯å‘å¼ã€‚</p>

<h3>æ··åˆç­–ç•¥é€‰æ‹©</h3>

<table>
<tr><th>ç­–ç•¥</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr>
<tr><td>**é¢„æ£€ç´¢**</td><td>é™æ€å†…å®¹ï¼ˆæ³•å¾‹ã€é‡‘èï¼‰</td><td>å¿«é€Ÿ</td><td>ç´¢å¼•å¯èƒ½è¿‡æ—¶</td></tr>
<tr><td>**Just-in-Time**</td><td>åŠ¨æ€ç¯å¢ƒï¼ˆä»£ç åº“ï¼‰</td><td>ç²¾ç¡®ã€èŠ‚çœ token</td><td>æ¢ç´¢å¼€é”€</td></tr>
<tr><td>**æ··åˆ**</td><td>å¤æ‚ä»»åŠ¡</td><td>å¹³è¡¡</td><td>éœ€è¦æ›´å¤šè®¾è®¡</td></tr>
</table>

<hr/>

<h2>äº”ã€é•¿æ—¶é—´ä»»åŠ¡ä¸Šä¸‹æ–‡å·¥ç¨‹</h2>

<p>é•¿æ—¶é—´ä»»åŠ¡éœ€è¦æ™ºèƒ½ä½“åœ¨<strong>ä¸Šä¸‹æ–‡çª—å£é™åˆ¶</strong>ä¸‹ä¿æŒè¿è´¯æ€§ã€ä¸Šä¸‹æ–‡å’Œç›®æ ‡å¯¼å‘è¡Œä¸ºã€‚</p>

<h3>æŠ€æœ¯æ–¹æ¡ˆæ¦‚è§ˆ</h3>

<div class="mermaid">
graph TD
    subgraph "ä¸‰å¤§æŠ€æœ¯æ–¹æ¡ˆ"
        A[Compaction<br/>å‹ç¼©]
        B[Note-taking<br/>ç¬”è®°]
        C[Sub-agents<br/>å­æ™ºèƒ½ä½“]
    end
    
    A -->|"é€‚åˆ"| Conv[éœ€è¦å¤§é‡æ¥å›å¯¹è¯]
    B -->|"é€‚åˆ"| Iterative[æœ‰æ˜ç¡®é‡Œç¨‹ç¢‘çš„è¿­ä»£å¼€å‘]
    C -->|"é€‚åˆ"| Complex[å¤æ‚ç ”ç©¶å’Œåˆ†æ]
    
    style A fill:#007bblue,stroke:#333,stroke-width:2px,color:#fff
    style B fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#6f42c1,stroke:#333,stroke-width:2px,color:#fff
</div>

<hr/>

<h3>1. å‹ç¼©ï¼ˆCompactionï¼‰</h3>

<p><strong>å®šä¹‰</strong>ï¼šå½“å¯¹è¯æ¥è¿‘ä¸Šä¸‹æ–‡çª—å£é™åˆ¶æ—¶ï¼Œå‹ç¼©å†…å®¹å¹¶ç”¨æ‘˜è¦é‡æ–°åˆå§‹åŒ–æ–°çš„ä¸Šä¸‹æ–‡çª—å£ã€‚</p>

<div class="mermaid">
graph TD
    subgraph "å‹ç¼©æµç¨‹"
        H1[æ¶ˆæ¯å†å²] -->|"ä¼ é€’ç»™æ¨¡å‹"| Summarize[æ‘˜è¦ç”Ÿæˆ]
        Summarize -->|"ä¿ç•™"| Keep[ä¿ç•™å†…å®¹]
        Summarize -->|"ä¸¢å¼ƒ"| Discard[ä¸¢å¼ƒå†…å®¹]
        Keep --> NewContext[æ–°ä¸Šä¸‹æ–‡çª—å£]
    end
    
    subgraph "ä¿ç•™ vs ä¸¢å¼ƒ"
        Keep2[ä¿ç•™] -->|"âœ… æ¶æ„å†³ç­–"| C1[æ¶æ„å†³ç­–]
        Keep2 -->|"âœ… æœªè§£å†³bug"| C2[æœªè§£å†³bug]
        Keep2 -->|"âœ… å®ç°ç»†èŠ‚"| C3[å®ç°ç»†èŠ‚]
        Discard2[ä¸¢å¼ƒ] -->|"âŒ å†—ä½™å·¥å…·è¾“å‡º"| D1[å†—ä½™è¾“å‡º]
        Discard2 -->|"âŒ æ—§æ¶ˆæ¯"| D2[æ—§æ¶ˆæ¯]
    end
    
    style Summarize fill:#6f42c1,stroke:#333,stroke-width:2px,color:#fff
    style Keep fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style Discard fill:#dc3545,stroke:#333,stroke-width:2px,color:#fff
</div>



<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>å…ˆæœ€å¤§åŒ–å¬å›ç‡â€”â€”ç¡®ä¿æ‘˜è¦æ•è·æ‰€æœ‰ç›¸å…³ä¿¡æ¯</li>
</ol>
<ol>
<li>å†æé«˜ç²¾åº¦â€”â€”æ¶ˆé™¤å†—ä½™å†…å®¹</li>

</ol>
<p><strong>æœ€è½»é‡çš„å‹ç¼©å½¢å¼</strong>ï¼šå·¥å…·ç»“æœæ¸…é™¤ï¼ˆå·²åœ¨ Claude Developer Platform ä¸Šä½œä¸ºåŠŸèƒ½å‘å¸ƒï¼‰</p>

<hr/>

<h3>2. ç»“æ„åŒ–ç¬”è®°ï¼ˆStructured Note-takingï¼‰</h3>

<p><strong>å®šä¹‰</strong>ï¼šæ™ºèƒ½ä½“å®šæœŸå°†ç¬”è®°å†™å…¥æŒä¹…åŒ–å­˜å‚¨ï¼Œåœ¨éœ€è¦æ—¶é‡æ–°åŠ è½½åˆ°ä¸Šä¸‹æ–‡ã€‚</p>

<div class="mermaid">
graph TD
    subgraph "ç¬”è®°ç”Ÿå‘½å‘¨æœŸ"
        Write[å®šæœŸå†™ç¬”è®°] -->|"æŒä¹…åŒ–"| Storage[(å¤–éƒ¨å­˜å‚¨)]
        Storage -->|"é‡æ–°åŠ è½½"| Read[éœ€è¦æ—¶è¯»å–]
        Read -->|"æ¢å¤"| Context[ä¸Šä¸‹æ–‡æ¢å¤]
    end
    
    subgraph "åº”ç”¨åœºæ™¯"
        Use1[è·Ÿè¸ªä»»åŠ¡è¿›åº¦]
        Use2[ç»´æŠ¤å…³é”®ä¸Šä¸‹æ–‡]
        Use3[è¿½è¸ªè·¨å·¥å…·è°ƒç”¨çš„ä¾èµ–]
    end
    
    Context -->|"æ”¯æ’‘"| LongTask[é•¿æ—¶é—´ä»»åŠ¡]
    
    style Write fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style Storage fill:#6c757d,stroke:#333,stroke-width:1px,color:#fff
    style Read fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>Claude ç© PokÃ©mon æ¡ˆä¾‹</strong>ï¼š</p>
<ul>
<li>ç²¾ç¡®è®°å½•æ•°åƒæ­¥æ¸¸æˆè¿›ç¨‹ï¼ˆ"è¿‡å» 1234 æ­¥æˆ‘ä¸€ç›´åœ¨ Route 1 è®­ç»ƒ PokÃ©mon"ï¼‰</li>
<li>è‡ªåŠ¨ç»˜åˆ¶æ¢ç´¢åŒºåŸŸåœ°å›¾</li>
<li>è®°å½•æˆ˜æ–—ç­–ç•¥ç¬”è®°</li>
<li>ä¸Šä¸‹æ–‡é‡ç½®åï¼Œè¯»å–ç¬”è®°ç»§ç»­æ•°å°æ—¶çš„è®­ç»ƒ</li>

</ul>
<hr/>

<h3>3. å­æ™ºèƒ½ä½“æ¶æ„ï¼ˆSub-agent Architecturesï¼‰</h3>

<p><strong>æ€è·¯</strong>ï¼šä¸æ˜¯è®©ä¸€ä¸ªæ™ºèƒ½ä½“ç»´æŠ¤æ•´ä¸ªé¡¹ç›®çŠ¶æ€ï¼Œè€Œæ˜¯è®©ä¸“é—¨çš„å­æ™ºèƒ½ä½“å¤„ç†èšç„¦ä»»åŠ¡ã€‚</p>

<div class="mermaid">
graph TD
    subgraph "ä¸»æ™ºèƒ½ä½“"
        Main[ä¸»æ™ºèƒ½ä½“<br/>åè°ƒè€…] -->|"åˆ†é…ä»»åŠ¡"| Plan[é«˜å±‚è®¡åˆ’]
    end
    
    subgraph "å­æ™ºèƒ½ä½“æ± "
        Sub1[å­æ™ºèƒ½ä½“ A<br/>ä»£ç ç¼–å†™] -->|"è¿”å›æ‘˜è¦"| Result1[1-2k tokens]
        Sub2[å­æ™ºèƒ½ä½“ B<br/>ä¿¡æ¯æœç´¢] -->|"è¿”å›æ‘˜è¦"| Result2[1-2k tokens]
        Sub3[å­æ™ºèƒ½ä½“ C<br/>æµ‹è¯•éªŒè¯] -->|"è¿”å›æ‘˜è¦"| Result3[1-2k tokens]
    end
    
    Main -->|"åè°ƒ"| Sub1
    Main -->|"åè°ƒ"| Sub2
    Main -->|"åè°ƒ"| Sub3
    
    Result1 -->|"åˆæˆ"| Synthesis[æœ€ç»ˆç»“æœ]
    Result2 --> Synthesis
    Result3 --> Synthesis
    
    style Main fill:#6f42c1,stroke:#333,stroke-width:3px,color:#fff
    style Sub1 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style Sub2 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style Sub3 fill:#007bff,stroke:#333,stroke-width:1px,color:#fff
    style Synthesis fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
</div>

<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»</li>
<li>æ¯ä¸ªå­æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨æ•°ä¸‡ tokens</li>
<li>åªè¿”å›å‹ç¼©åçš„æ‘˜è¦ï¼ˆé€šå¸¸ 1-2k tokensï¼‰</li>
<li>è¯¦ç»†æœç´¢ä¸Šä¸‹æ–‡éš”ç¦»åœ¨å­æ™ºèƒ½ä½“å†…éƒ¨</li>

</ul>
<hr/>

<h2>å…­ã€æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”ä¸é€‰æ‹©</h2>

<h3>è¯¦ç»†å¯¹æ¯”</h3>

<div class="mermaid">
graph TD
    subgraph "é€‰æ‹©å†³ç­–æ ‘"
        Q1{ä»»åŠ¡ç±»å‹?}
        Q1 -->|"å¯¹è¯å¯†é›†"| Compaction[Compaction å‹ç¼©]
        Q1 -->|"è¿­ä»£å¼€å‘"| Notes[Note-taking ç¬”è®°]
        Q1 -->|"å¹¶è¡Œæ¢ç´¢"| SubAgents[Sub-agents å­æ™ºèƒ½ä½“]
    end
    
    subgraph "Compaction"
        C1[ä¿æŒå¯¹è¯æµç•…]
        C2[å®ç°ç®€å•]
        C3[å¯èƒ½ä¸¢å¤±ç»†å¾®ä¸Šä¸‹æ–‡]
    end
    
    subgraph "Note-taking"
        N1[æŒä¹…åŒ–è®°å¿†]
        N2[è·¨ä¼šè¯æ”¯æŒ]
        N3[éœ€è¦ç¬”è®°ç»“æ„è®¾è®¡]
    end
    
    subgraph "Sub-agents"
        S1[å¼ºéš”ç¦»æ€§]
        S2[å¯å¹¶è¡Œå¤„ç†]
        S3[éœ€è¦åè°ƒé€»è¾‘]
    end
    
    Compaction --> C1
    Notes --> N1
    SubAgents --> S1
    
    style Q1 fill:#ffc107,stroke:#333,stroke-width:2px,color:#333
    style Compaction fill:#007bff,stroke:#333,stroke-width:2px,color:#fff
    style Notes fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style SubAgents fill:#6f42c1,stroke:#333,stroke-width:2px,color:#fff
</div>

<h3>æ ¸å¿ƒåŸåˆ™æ€»ç»“</h3>

<h2>ä¸ƒã€Claude Developer Platform å·¥å…·</h2>

<h3>è®°å¿†å’Œä¸Šä¸‹æ–‡ç®¡ç†å·¥å…·</h3>

<ul>
<li><strong>Memory Tool</strong>ï¼ˆå…¬å¼€æµ‹è¯•ç‰ˆï¼‰ï¼šé€šè¿‡æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨å’ŒæŸ¥è¯¢ä¸Šä¸‹æ–‡çª—å£å¤–çš„ä¿¡æ¯</li>
<li><strong>å·¥å…·ç»“æœæ¸…é™¤</strong>ï¼šæœ€è½»é‡çš„å‹ç¼©å½¢å¼</li>

</ul>
<p><strong>èƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>æ„å»ºæŒä¹…çŸ¥è¯†åº“</li>
<li>è·¨ä¼šè¯ç»´æŠ¤é¡¹ç›®çŠ¶æ€</li>
<li>å¼•ç”¨å‰æœŸå·¥ä½œï¼Œæ— éœ€å°†æ‰€æœ‰å†…å®¹ä¿ç•™åœ¨ä¸Šä¸‹æ–‡ä¸­</li>

</ul>
<hr/>

<h2>å…«ã€å…³é”®æ´å¯Ÿä¸è¡ŒåŠ¨æŒ‡å—</h2>

<h3>æ ¸å¿ƒæ´å¯Ÿ</h3>

<div class="mermaid">
graph TD
    I1["ğŸ¤– æ™ºèƒ½ä½“ = LLM åœ¨å¾ªç¯ä¸­è‡ªä¸»ä½¿ç”¨å·¥å…·"]
    I2["ğŸ“‰ ä¸Šä¸‹æ–‡ = æœ‰é™èµ„æºï¼Œè¾¹é™…æ•ˆç›Šé€’å‡"]
    I3["âš–ï¸ ç®€çº¦åŸåˆ™ = åšæœ€ç®€å•æœ‰æ•ˆçš„äº‹"]
    I4["ğŸ“ˆ æ¼”è¿›æ–¹å‘ = æ™ºèƒ½ä½“éœ€è¦æ›´å°‘çš„äººå·¥å¹²é¢„"]
    
    I1 -->|"æ„å‘³ç€"| Next1[éœ€è¦åŠ¨æ€ä¸Šä¸‹æ–‡ç®¡ç†]
    I2 -->|"æ„å‘³ç€"| Next2[ç²¾å¿ƒ curation æ˜¯æ ¸å¿ƒ]
    I3 -->|"æ„å‘³ç€"| Next3[ä»ç®€å•å¼€å§‹ï¼Œé€æ­¥å¤æ‚]
    I4 -->|"æ„å‘³ç€"| Next4[æ¨¡å‹è¶Šå¼ºï¼Œè®¾è®¡è¶Šç®€æ´]
    
    style I1 fill:#6f42c1,stroke:#333,stroke-width:2px,color:#fff
    style I2 fill:#dc3545,stroke:#333,stroke-width:2px,color:#fff
    style I3 fill:#28a745,stroke:#333,stroke-width:2px,color:#fff
    style I4 fill:#007bff,stroke:#333,stroke-width:2px,color:#fff
</div>

<h3>å®è·µå»ºè®®</h3>

<table>
<tr><th>é˜¶æ®µ</th><th>è¡ŒåŠ¨é¡¹</th></tr>
<tr><td>**èµ·æ­¥**</td><td>ä»æœ€å°æç¤ºå¼€å§‹ï¼Œç”¨æœ€ä½³æ¨¡å‹æµ‹è¯•</td></tr>
<tr><td>**ä¼˜åŒ–**</td><td>æ ¹æ®å¤±è´¥æ¨¡å¼æ·»åŠ æŒ‡ä»¤å’Œç¤ºä¾‹</td></tr>
<tr><td>**è§„æ¨¡åŒ–**</td><td>å®æ–½å‹ç¼©ã€ç¬”è®°ã€å­æ™ºèƒ½ä½“ç­‰ç­–ç•¥</td></tr>
<tr><td>**é•¿æœŸ**</td><td>æŒç»­è¿­ä»£ï¼Œå…³æ³¨æ¨¡å‹èƒ½åŠ›æ¼”è¿›</td></tr>
</table>

<hr/>

<h2>ä¹ã€å‚è€ƒèµ„æº</h2>

<ul>
<li>åŸæ–‡é“¾æ¥ï¼šhttps://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents</li>
<li><a href="https://www.anthropic.com/research/building-effective-agents" target="_blank">Building Effective AI Agents</a></li>
<li><a href="https://www.anthropic.com/engineering/writing-tools-for-agents" target="_blank">Writing Tools for AI Agents</a></li>
<li><a href="https://platform.claude.com/cookbook/tool-use-memory-cookbook" target="_blank">Memory and Context Management Cookbook</a></li>
<li><a href="https://modelcontextprotocol.io/docs/getting-started/intro" target="_blank">Model Context Protocol</a></li>
<li><a href="https://www.anthropic.com/claude-code" target="_blank">Claude Code</a></li>

</ul>
<hr/>

<p><em>æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š2026-02-07</em></p>
</article></main>
<footer><p>ğŸ“… æœ€åæ›´æ–°: 2026-02-07</p><p>Built with â¤ï¸</p></footer>
</body>
</html>